<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Global IT Education{% endblock %}</title>

    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Bootstrap Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css" rel="stylesheet">

    <!-- FontAwesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">

    <!-- Custom Auth CSS -->
    <link href="{{ url_for('static', filename='css/modules/auth.css') }}" rel="stylesheet">
    
    {% block head %}{% endblock %}
</head>
<body class="auth-page">
    <a href="#main-content" class="skip-link">Skip to main content</a>
    
    <div class="auth-container">
        <!-- Flash Messages -->
        {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
                {% for category, message in messages %}
                    <div class="alert alert-{{ 'success' if category=='success' else 'danger' if category=='error' else 'info' if category=='info' else 'warning' }} alert-dismissible fade show" 
                         role="alert" 
                         aria-live="polite">
                        <i class="bi bi-{{ 'check-circle' if category=='success' else 'exclamation-triangle' if category=='error' else 'info-circle' if category=='info' else 'exclamation-triangle' }} me-2" aria-hidden="true"></i>
                        {{ message }}
                        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                    </div>
                {% endfor %}
            {% endif %}
        {% endwith %}

        <!-- Main Auth Card -->
        <main id="main-content" class="card auth-card" role="main">
            <header class="auth-header">
                <div class="brand-logo" aria-hidden="true">
                    <i class="fas fa-graduation-cap"></i>
                </div>
                <h1 class="h3 mb-2">{% block header_title %}Global IT Education{% endblock %}</h1>
                <p class="mb-0">{% block header_subtitle %}Franchise Management System{% endblock %}</p>
            </header>
            
            <section class="auth-body">
                {% block content %}
                <!-- Auth form content goes here -->
                {% endblock %}
            </section>
            
            <footer class="auth-footer">
                {% block footer %}
                <small>&copy; 2025 Global IT Education. All rights reserved.</small>
                {% endblock %}
            </footer>
        </main>
    </div>

    <!-- Bootstrap JS Bundle -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Custom JS for auth pages -->
    <script>
        // Auto-hide flash messages after 6 seconds
        setTimeout(function() {
            var alerts = document.querySelectorAll('.alert');
            alerts.forEach(function(alert) {
                if (alert.querySelector('.btn-close')) {
                    var bsAlert = new bootstrap.Alert(alert);
                    bsAlert.close();
                }
            });
        }, 6000);
        
        // Enhanced keyboard navigation
        document.addEventListener('DOMContentLoaded', function() {
            // Auto-focus first form field
            const firstInput = document.querySelector('input[type="text"], input[type="email"]');
            if (firstInput) {
                firstInput.focus();
            }
        });
    </script>
    
    {% block scripts %}
    <!-- Additional scripts for specific auth pages -->
    {% endblock %}
</body>
</html>
